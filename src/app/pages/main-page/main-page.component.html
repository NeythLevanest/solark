<div>
    <div class = "map-header">
        <app-nav-bar></app-nav-bar>
        
    </div>
    <div class = "map-body row">
        <div class= " col-sm">
            <div class="form-group search-bar">
                <label></label>
                <input type="text" class="form-control" (keydown.enter)="$event.preventDefault()" placeholder="Ingresa una localización" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" #search>
            </div>
            <agm-map class="mapa" [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
                  (dragEnd)="markerDragEnd($event)"></agm-marker>
            </agm-map>
        </div>
        <div class="col-sm container-rigth">
            <div class="title-format">
                <h4>Ingresa parámetros de búsqueda</h4>
              </div>
            <div class="form-size  ">

                <div class="">
                    <form [formGroup]="formParameters" (ngSubmit)="procesarDatos()">
                       
                        <div class="row form-size">
                                <div class="form-group row col-sm">
                                    <label class="col-sm-4 col-form-label">Desde</label>
                                    <div class="col-sm-8">
                                        <input formControlName="startDate" class="form-control" type="date" placeholder="Ingrese la fecha de Inicio">
                                    </div>
                                </div>
      
                                <div class="form-group row col-sm">
                                    <label class="col-sm-4 col-form-label">Hasta</label>
                                    <div class="col-sm-8">
                                        <input formControlName="endDate" class="form-control" type="date" placeholder="Ingrese la fecha de Fin" max="2020-12-31">
                                    </div>
                                </div>
      
                        </div>
                        <div class="">
                          <button type="submit" class="btn btn-secondary btn-dimension">Consultar</button>
                        </div>
                      </form>
                </div>
                





                <div class="align-btn border-nav ">
                    <div class=" col-sm">
                        <button class="btn btn-ligth btn-size-sm" (click)="generateChartByDay()">Día</button>
                    </div>
                    <div class=" col-sm">
                        <button class="btn btn-ligth btn-size-sm" (click)="generateChartByWeek()">Semana</button>
                    </div>
                    <div class=" col-sm">
                        <button class="btn btn-ligth btn-size-sm" (click)="generateChartByMes()">Mes</button>
                    </div>
                    <div class="col-sm">
                        <button class="btn btn-ligth btn-size-sm" (click)="generateChartByAnio()">Año</button>
                    </div>
                </div>






                <div class="container-rigth vertical-scroll">
                    <div>
                        <div class="card" [ngClass]="_chartService.hiddenModalPOND">
                            <div class="row">
                                
                                <div class="Title-Result">
                                    <label>
                                        Producción de Energía:<span>{{potenciaMensual}} Watts</span>
                                    </label>
                                    <label>
                                        Ahorro Generado del Mes: <span>$ {{ahorroMensual}}</span>
                                  </label>
                                </div>

                                <!--div class="col-sm">
                                    <canvas class = "chart-size" id="canvas5">
                                        {{chartSAVE}}
                                    </canvas>
                                </div-->
                            </div>
                        </div>

                        <div class="" [ngClass]="_chartService.hiddenModalBD">
                            <canvas id="canvas">
                                {{chartDaily}}
                            </canvas>
                        </div>
                        <div class="" [ngClass]="_chartService.hiddenModalBW">
                            <canvas id="canvas3">
                                {{chartWeek}}
                            </canvas>
                        </div>
                        <div class="" [ngClass]="_chartService.hiddenModalBM">
                            <canvas id="canvas1">
                                {{chartMensual}}
                            </canvas>
                        </div>
                        <div class="" [ngClass]="_chartService.hiddenModalBY">
                            <canvas id="canvas2">
                                {{chartAnual}}
                            </canvas>
                        </div>
                    </div>

                    <!--START COLLAPSEABLE-->
                    <div class="wrap-collabsible">
                        <!--for es el nombre del collapsible, id es una propiedad unica para cada uno como identificador-->
                        <input id="collapsible" class="toggle" type="checkbox">
                        <label for="collapsible" class="lbl-toggle">Consulta aquí las recomendaciones
                            <br><span>Conoce las alternativas disponibles para optimizar tu consumo de energía solar.</span>
                        </label>
                        <div class="collapsible-content">
                            <div class="content-inner">
                                <div class="page-content page-container" id="page-content">
                                    <div class="padding">
                                        <div class="mb-5">
                                            <ul>
                                                <li>
                                                    En el punto de menor irradiancia hay un déficit de energía, deberías conseguir
                                                    un acumulador de batería.
                                                </li>
                                                <li>
                                                    En el punto de mayor irradiancia hay un superavit de energía, deberías aprovechar
                                                    y comercializar la energía.
                                                </li>
                                            </ul>
                                            
                                        </div>
                                    </div>
                                </div>        
                                <hr>
                            </div>
                        </div>
                    </div>
                    <!--END COLLAPSEABLE-->
                </div>

                
        </div>
        
    </div>
    <div class = "map-footer">
        <div>
            <span></span>
        </div>
    </div>
</div>
       
<ng-http-loader></ng-http-loader>   